{"version":3,"sources":["index.js"],"names":["get_api_data","method","params","callback","http_request","XMLHttpRequest","p","i","open","replace","send","onreadystatechange","readyState","show_page","page_name","xml","document","getElementById","innerHTML","responseText","fix_link","console","log","q","querySelectorAll","forEach","elem","href","getAttribute","setAttribute","removeAttribute","onclick","ev","preventDefault"],"mappings":";AAAA,SAASA,EAAaC,EAAQC,EAAQC,GAC5BC,IAAAA,EAAe,IAAIC,eACrBC,EAAI,GACH,IAAA,IAAIC,KAAKL,EACVI,GAAKC,EAAI,IAAML,EAAOK,GAAK,IAG/BH,EAAaI,KAAK,MAAO,QAAUP,EAAOQ,QAAQ,IAAK,IAAM,IAAMH,GAAG,GACtEF,EAAaM,OAEbN,EAAaO,mBAAqB,WAC1BP,GAA4B,IAA5BA,EAAaQ,WACVT,OAAAA,EAASC,IAKxB,SAASS,EAAUC,GACfd,EAAa,WAAY,CACrBc,UAAWA,GACZ,SAAAC,GACCC,SAASC,eAAe,WAAWC,UAAYH,EAAII,eAI3D,SAASC,IACLC,QAAQC,IAAI,kBAERC,IAAAA,EAAKP,SAASQ,iBAAiB,KACnCH,QAAQC,IAAIC,GACZA,EAAEE,QAAQ,SAAAC,GACFC,IAAAA,EAAOD,EAAKE,aAAa,QAChB,MAATD,IACJD,EAAKG,aAAa,WAAYF,GAC9BD,EAAKI,gBAAgB,QAErBJ,EAAKK,QAAU,SAAAC,GAIJ,OAHPA,EAAGC,iBACHZ,QAAQC,IAAI,UAAWI,EAAKE,aAAa,aACzCf,EAAUa,EAAKE,aAAa,YAAYnB,QAAQ,QAAS,MAClD,MAKnBW","file":"src.46d73feb.js","sourceRoot":"../src","sourcesContent":["function get_api_data(method, params, callback) {\n    const http_request = new XMLHttpRequest();\n    let p = '';\n    for (let i in params) {\n        p += i + '=' + params[i] + '&'\n    }\n\n    http_request.open('GET', '/api/' + method.replace('/', '') + '?' + p, true)\n    http_request.send();\n\n    http_request.onreadystatechange = function() {\n        if (http_request.readyState !== 4) return;\n        return callback(http_request);\n    }\n}\n\n\nfunction show_page(page_name) {\n    get_api_data(\"get_page\", {\n        page_name: page_name\n    }, xml => {\n        document.getElementById('content').innerHTML = xml.responseText\n    })\n}\n\nfunction fix_link() {\n    console.log(\"Started fix...\");\n    // Fix link\n    let q = (document.querySelectorAll(\"a\"));\n    console.log(q);\n    q.forEach(elem => {\n        let href = elem.getAttribute('href');\n        if (href === \"/\") return;\n        elem.setAttribute('tab_link', href);\n        elem.removeAttribute('href');\n\n        elem.onclick = ev => {\n            ev.preventDefault();\n            console.log(\"Link to\", elem.getAttribute('tab_link'));\n            show_page(elem.getAttribute('tab_link').replace('.html', ''));\n            return false;\n        };\n    })\n}\n\nfix_link();"]}